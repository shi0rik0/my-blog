<!DOCTYPE html><html> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css" integrity="sha384-zh0CIslj+VczCZtlzBcjt5ppRcsAmDnRem7ESsYwWwg3m/OaJ2l4x7YBZl9Kxxib" crossorigin="anonymous"><meta name="generator" content="Astro v5.1.7"><title></title><link rel="stylesheet" href="/_astro/index.CsOifZER.css"></head> <body class="bg-[#333] text-[#ddd]"> <h1>Sustie</h1> <div class="flex gap-4"> <a href="/">主页</a> <a href="/posts/page/1">所有文章</a> <a href="/search/">文章检索</a> </div>  <h1>Dockerfile中CMD和ENTRYPOINT的区别</h1> <p>在 Dockerfile 中有两个命令CMD和ENTRYPOINT，它们都可以用来指定 Docker 镜像启动时的默认命令，那么它们究竟有什么区别呢？</p> <p>我在网上看到<a href="https://aws.amazon.com/cn/blogs/opensource/demystifying-entrypoint-cmd-docker/">一篇博客文章</a>很好地解释了两者的区别。简而言之，最终运行docker run命令的时候，容器执行的命令会是 ENTRYPOINT + CMD，但是有以下几点需要注意：</p> <ol> <li>如果 ENTRYPOINT 是字符串形式而非数组形式，那么 CMD 会被<strong>忽略</strong>。</li> <li>Dockerfile 中指定的 ENTRYPOINT 和 CMD 都可以在执行docker run命令的时候被修改。命令格式为：docker run --entrypoint &lt;ENTRYPOINT&gt; &lt;image&gt; &lt;CMD&gt;。</li> </ol> <p>我引用的博客文章的作者推荐使用 ENTRYPOINT，但我习惯只使用 CMD，而不设置 ENTRYPOINT，原因是这样比较简单，也不容易出错。</p>  </body></html>