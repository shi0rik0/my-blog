<!DOCTYPE html><html> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><!-- KaTeX --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css" integrity="sha384-zh0CIslj+VczCZtlzBcjt5ppRcsAmDnRem7ESsYwWwg3m/OaJ2l4x7YBZl9Kxxib" crossorigin="anonymous"><!-- Prism --><link href="/lib/prism.css" rel="stylesheet"><script src="/lib/prism.js"></script><meta name="generator" content="Astro v5.1.7"><title></title><link rel="stylesheet" href="/_astro/index.CsOifZER.css"></head> <body class="bg-[#333] text-[#ddd]"> <h1>Sustie</h1> <div class="flex gap-4"> <a href="/">主页</a> <a href="/posts/page/1">所有文章</a> <a href="/search/">文章检索</a> </div>  <h1>使用screen命令在后台运行进程</h1> <p>谈到在后台运行进程，大多数人第一个想到的可能是直接在命令后面加一个&amp;，这么做有一些缺点：</p> <ol> <li>需要强行终止进程的时候，必须记住或者查询进程的名称、ID 等等。</li> <li>有时候使用&amp;似乎会导致一个奇怪的 bug，使得终端输出紊乱甚至无法使用（参见<a href="https://askubuntu.com/questions/1459049/bash-script-launching-background-process-breaks-terminal-output-and-kills-backgr">这个 StackOverflow 问题</a>）。</li> </ol> <p>因此，我发现使用 screen 命令是一种更好的解决方案。</p> <h2>使用 screen 创建后台进程</h2> <p>示例命令：</p> <pre><code>screen -dmS alice sleep 10
</code></pre><p>这个命令中，sleep 10 是要执行的命令，-dm 表示在后台运行而不是进入 screen session，-S 表示我们要给这个 session 起一个名字，这里我起名为 alice。</p> <h2>使用 screen 终止后台进程</h2> <p>示例命令：</p> <pre><code>screen -S alice -X quit
</code></pre><p>这个命令中，-S alice 指定了我们之前创建的名为 alice 的 session，而-X quit 表示让这个 session 执行 quit 命令（也就是退出）。</p>  </body></html>